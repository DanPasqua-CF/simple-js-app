let pokemonRepository = function () { let t = []; function e(e) { t.push(e) } function n() { return t } function o(t) { i(t).then(function () { var e, n, o; let i, r; e = t.name.charAt(0).toUpperCase() + t.name.slice(1), n = `Height: ${t.height}`, o = t.imageUrl, i = document.querySelector(".modal"), document.querySelector(".modal-title").innerText = e, document.querySelector(".pokemon-height").innerText = `${n}`, (r = document.querySelector(".pokemon-image")).setAttribute("src", o), r.setAttribute("width", "100%"), r.setAttribute("height", "100%"), i.classList.add("is-visible"), i.addEventListener("click", () => { i.hide() }), $("#pokemon-modal").modal("show") }) } function i(t) { return fetch(t.detailsUrl).then(function (t) { return t.json() }).then(function (e) { t.imageUrl = e.sprites.front_default, t.height = e.height, t.types = e.types }).catch(function (t) { console.error(t) }) } return window.addEventListener("keydown", t => { let e = document.querySelector("#modal-container"); "Escape" === t.key && e.classList.contains("is-visible") && modal.hide() }), { add: e, getAll: n, addListItem: function t(e) { let n = document.querySelector(".pokemon-list"), i = document.createElement("div"); i.classList.add("col", "justify-content-center", "p-1", "g-2"); let r = document.createElement("button"); r.innerText = e.name.charAt(0).toUpperCase() + e.name.slice(1), r.setAttribute("alt", `Button to display ${e.name}'s details`), r.classList.add("btn", "btn-primary", "btn-lg", "button"), $(".button").css("background-color", "#c73638"), $("#searchField").css("border-color", "#234276"), $(".btn-outline-success").css("color", "#234276"), $(".btn-outline-success").css("border-color", "#234276"), i.appendChild(r), n.appendChild(i), function t(e, n) { e.addEventListener("click", function () { o(n) }) }(r, e) }, loadList: function t() { return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function (t) { return t.json() }).then(function (t) { t.results.forEach(function (t) { e({ name: t.name, detailsUrl: t.url }) }) }).catch(function (t) { console.error(t) }) }, loadDetails: i, showDetails: o } }(); pokemonRepository.loadList().then(function () { pokemonRepository.getAll().forEach(function (t) { pokemonRepository.addListItem(t) }), $(document).ready(function () { $("#searchField").on("keyup", function () { var t = $(this).val().toLowerCase(); $(".button").filter(function () { $(this).toggle($(this).text().toLowerCase().indexOf(t) > -1) }) }) }) });
